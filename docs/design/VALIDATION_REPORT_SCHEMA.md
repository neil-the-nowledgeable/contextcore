# Validation Report Schema

The `validation-report.json` file is generated by `contextcore manifest export` for deterministic downstream gating.

It is always emitted to the export output directory.

## Purpose

- Provide machine-readable export diagnostics without requiring downstream systems to embed ContextCore logic.
- Standardize gate inputs for integrity, coverage, and parameter resolvability checks.
- Preserve backward compatibility by adding this artifact without changing runtime semantic convention names.

## Top-Level Contract

| Field | Type | Required | Description |
| ----- | ----- | ----- | ----- |
| `version` | string | Yes | Contract version (aligned with ContextCore schema version) |
| `schema_version` | string | Yes | Explicit schema version for compatibility gates |
| `schema` | string | Yes | Schema identifier: `contextcore.io/validation-report/v1` |
| `generated_at` | string | Yes | ISO timestamp propagated from export/onboarding |
| `project_id` | string | Yes | Project identifier |
| `checksums` | object | Yes | Integrity checksum values used for verification |
| `integrity` | object | Yes | Integrity evaluation summary |
| `coverage` | object | Yes | Coverage diagnostics and threshold evaluation |
| `resolvability` | object | Yes | Parameter resolvability summary and unresolved entries |
| `capabilities` | object | Yes | Export capability flags propagated from onboarding |
| `diagnostics` | array | Yes | Structured warnings/errors with severity and code |

## Checksums

`checksums` contains:

- `source_checksum`
- `artifact_manifest_checksum`
- `project_context_checksum`

## Integrity

`integrity` contains:

- `checksum_chain_complete` (boolean)

This flag is true only when all expected checksum fields are present and non-empty.

## Coverage

`coverage` contains:

- `overall_coverage_percent` (number)
- `gap_count` (number)
- `gaps` (string[])
- `minimum_required` (number|null)
- `meets_minimum` (boolean)

## Resolvability

`resolvability` contains:

- `summary` (object|null)
  - `resolved` (number)
  - `unresolved` (number)
  - `total` (number)
- `unresolved` (array)
  - each entry includes:
    - `artifact_id`
    - `parameter`
    - `reason_code`
    - `reason`

## Diagnostics

Each diagnostics entry uses:

- `severity`: `warning|error`
- `code`: stable machine code
- `message`: human-readable detail

Current codes include:

- `CHECKSUM_CHAIN_INCOMPLETE`
- `COVERAGE_BELOW_MINIMUM`
- `UNRESOLVED_PARAMETERS`

## Compatibility Notes

- Consumers should gate on `schema` and `schema_version`.
- New diagnostics codes may be added over time.
- New optional fields may be added; consumers should ignore unknown fields.
